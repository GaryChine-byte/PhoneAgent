# PhoneAgent éƒ¨ç½²æŒ‡å—

> **ðŸŽ¯ ç›®æ ‡ï¼š10åˆ†é’Ÿå®Œæˆç®€å•æ¨¡å¼ï¼Œ30åˆ†é’Ÿå®Œæˆå®Œæ•´æ¨¡å¼**

---

## âš ï¸ é‡è¦æç¤º

**é¦–æ¬¡éƒ¨ç½²å¿…é¡»å…ˆå®Œæˆ ADB TCP/IP é…ç½®**ï¼Œå¦åˆ™è®¾å¤‡ä¼šæ˜¾ç¤ºä¸º `offline` æ— æ³•ä½¿ç”¨ï¼

### å¿«é€Ÿé…ç½®ï¼ˆå¿…é¡»åœ¨å®¢æˆ·ç«¯å®‰è£…å‰å®Œæˆï¼‰

```bash
# 1. æ‰‹æœºé€šè¿‡ USB è¿žæŽ¥åˆ°ç”µè„‘
# 2. åœ¨ç”µè„‘ä¸Šæ‰§è¡Œ
adb tcpip 5555

# 3. æ‹”æŽ‰ USB çº¿
# 4. ç„¶åŽåœ¨æ‰‹æœº Termux ä¸­è¿è¡Œå®‰è£…è„šæœ¬
```

**ä¸ºä»€ä¹ˆå¿…é¡»è¿™æ ·åšï¼Ÿ**
- Android ç³»ç»Ÿé™åˆ¶ï¼šéž Root è®¾å¤‡æ— æ³•åœ¨æœ¬åœ°å¯ç”¨ ADB TCP/IP
- å¿…é¡»é€šè¿‡ USB è¿žæŽ¥ç”µè„‘æ‰§è¡Œ `adb tcpip 5555`
- æ‰‹æœºé‡å¯åŽéœ€è¦é‡æ–°æ‰§è¡Œæ­¤æ­¥éª¤

---

## ðŸ“‹ å¿«é€Ÿå¯¼èˆª

| æˆ‘è¦... | è·³è½¬åˆ° |
|--------|--------|
| äº†è§£éœ€è¦ä»€ä¹ˆ | [â†’ ç³»ç»Ÿè¦æ±‚](#ç³»ç»Ÿè¦æ±‚) |
| å¿«é€Ÿä½“éªŒ | [â†’ ç®€å•æ¨¡å¼](#ç®€å•æ¨¡å¼10åˆ†é’Ÿ) |
| å®Œæ•´éƒ¨ç½² | [â†’ å®Œæ•´æ¨¡å¼](#å®Œæ•´æ¨¡å¼30åˆ†é’Ÿ) |
| è§£å†³é—®é¢˜ | [â†’ æ•…éšœæŽ’æŸ¥](#æ•…éšœæŽ’æŸ¥) |

---

## ðŸŽ¯ éƒ¨ç½²æ¨¡å¼å¯¹æ¯”

| æ¨¡å¼ | æ—¶é—´ | éš¾åº¦ | è¯­éŸ³è¾“å…¥ | Scrcpy è§†é¢‘æµ | é€‚ç”¨åœºæ™¯ |
|-----|------|------|---------|-------------|---------|
| **ç®€å•æ¨¡å¼** | 10åˆ†é’Ÿ | â­ | âŒ | âœ… | å¿«é€Ÿä½“éªŒã€å­¦ä¹ æµ‹è¯• |
| **å®Œæ•´æ¨¡å¼** | 30åˆ†é’Ÿ | â­â­â­ | âœ… | âœ… | ç”Ÿäº§ä½¿ç”¨ã€æ—¥å¸¸ä½¿ç”¨ |

**ä¸ºä»€ä¹ˆç®€å•æ¨¡å¼ä¸æ”¯æŒè¯­éŸ³è¾“å…¥ï¼Ÿ**
- æµè§ˆå™¨ `getUserMedia` API è¦æ±‚ HTTPS æˆ– localhost
- ç®€å•æ¨¡å¼ä½¿ç”¨ `http://æœåŠ¡å™¨IP:5173` è®¿é—®ï¼Œä¸æ»¡è¶³è¦æ±‚
- å®Œæ•´æ¨¡å¼é€šè¿‡åŸŸå + SSL è¯ä¹¦è§£å†³æ­¤é—®é¢˜

---

## ðŸ–¥ï¸ ç³»ç»Ÿè¦æ±‚

### æœåŠ¡å™¨ï¼ˆå¿…éœ€å…¬ç½‘IPï¼‰

| é¡¹ç›® | æœ€ä½Ž | æŽ¨è |
|-----|------|------|
| **ç³»ç»Ÿ** | Ubuntu 20.04+ | Ubuntu 22.04 LTS |
| **é…ç½®** | 1æ ¸2GB | 2æ ¸4GB |
| **ç½‘ç»œ** | å…¬ç½‘ IPï¼ˆå¿…éœ€ï¼‰ | å›ºå®š IP |
| **ç«¯å£** | è§ä¸‹è¡¨ | éœ€é˜²ç«å¢™å¼€æ”¾ |

**éœ€è¦å¼€æ”¾çš„ç«¯å£**ï¼š

| ç«¯å£ | æœåŠ¡ | ç”¨é€” |
|-----|------|------|
| **7000** | FRP æœåŠ¡å™¨ | è®¾å¤‡ç«¯å£è½¬å‘å’Œå‘çŽ° |
| **8000** | API æœåŠ¡å™¨ | REST API + å‰ç«¯ WS + Scrcpy WS |
| **9999** | è®¾å¤‡ WebSocket | è®¾å¤‡è¿žæŽ¥å’Œä»»åŠ¡ä¸‹å‘ |
| **6100-6199** | FRP å®¢æˆ·ç«¯ç«¯å£ | æ¯å°è®¾å¤‡å ç”¨1ä¸ªï¼ˆæ”¯æŒ100å°ï¼‰ |
| **5173** | å‰ç«¯å¼€å‘æœåŠ¡å™¨ | ç®€å•æ¨¡å¼éœ€è¦ |
| **80/443** | HTTP/HTTPS | å®Œæ•´æ¨¡å¼éœ€è¦ |

**é…ç½®é˜²ç«å¢™**ï¼š
```bash
sudo ufw allow 7000/tcp
sudo ufw allow 8000/tcp
sudo ufw allow 9999/tcp
sudo ufw allow 6100:6199/tcp  # æ”¯æŒæœ€å¤š100å°è®¾å¤‡
sudo ufw allow 5173/tcp        # ç®€å•æ¨¡å¼
sudo ufw allow 80/tcp          # å®Œæ•´æ¨¡å¼
sudo ufw allow 443/tcp         # å®Œæ•´æ¨¡å¼
sudo ufw enable
```

### Android è®¾å¤‡

- Android 5.0+ï¼ŒUSB è°ƒè¯•å·²å¼€å¯
- å·²ä¸‹è½½ PhoneAgent Remote APKï¼ˆä»Ž [Releases é¡µé¢](https://github.com/tmwgsicp/PhoneAgent/releases/latest) ä¸‹è½½ï¼‰

---

## ðŸš€ ç®€å•æ¨¡å¼ï¼ˆ10åˆ†é’Ÿï¼‰

### æ­¥éª¤1ï¼šæœåŠ¡ç«¯ï¼ˆ5åˆ†é’Ÿï¼‰

```bash
# SSH è¿žæŽ¥æœåŠ¡å™¨
ssh root@YOUR_SERVER_IP

# å…‹éš†é¡¹ç›®
git clone https://github.com/tmwgsicp/PhoneAgent.git
cd PhoneAgent

# é…ç½® API Key
cp env.example .env
nano .env  # å¡«å†™ ZHIPU_API_KEY

# ä¸€é”®å®‰è£…
sudo bash scripts/install/install_server.sh
```

**å®‰è£…è¿‡ç¨‹ä¼šæç¤ºè¾“å…¥**ï¼š
- `FRP Token`ï¼šç”¨äºŽå®¢æˆ·ç«¯è®¤è¯ï¼Œè¯·è®¾ç½®ä¸€ä¸ªå¼ºå¯†ç ï¼ˆå¦‚ `my_secure_token_123`ï¼‰
- æ˜¯å¦åˆ›å»º systemd æœåŠ¡ï¼šå»ºè®®é€‰æ‹© `y`

**âš ï¸ é‡è¦**ï¼šè¯·è®°ä½æ‚¨è¾“å…¥çš„ `FRP Token`ï¼Œå®¢æˆ·ç«¯éƒ¨ç½²æ—¶éœ€è¦ä½¿ç”¨ç›¸åŒçš„ Token

**éªŒè¯**ï¼š
```bash
curl http://localhost:8000/health  # åº”è¿”å›ž {"status": "ok"}
```

### æ­¥éª¤2ï¼šå‰ç½®é…ç½® ADB TCP/IPï¼ˆå¿…é¡»ï¼‰âš ï¸

**åœ¨è¿è¡Œå®¢æˆ·ç«¯å®‰è£…è„šæœ¬ä¹‹å‰ï¼Œå¿…é¡»å…ˆå®Œæˆæ­¤æ­¥éª¤ï¼**

```bash
# 1. æ‰‹æœºé€šè¿‡ USB æ•°æ®çº¿è¿žæŽ¥åˆ°ç”µè„‘
# 2. åœ¨ç”µè„‘ä¸Šæ‰§è¡Œ
adb tcpip 5555

# 3. æ‹”æŽ‰ USB çº¿
```

**è¯´æ˜Ž**ï¼š
- è¿™ä¸ªé…ç½®ä¼šåœ¨**æ‰‹æœºé‡å¯åŽå¤±æ•ˆ**ï¼Œéœ€è¦é‡æ–°æ‰§è¡Œ
- Android 11+ å¯ä»¥åœ¨"å¼€å‘è€…é€‰é¡¹ > æ— çº¿è°ƒè¯•"ä¸­ç›´æŽ¥å¯ç”¨ï¼Œæ— éœ€ USB

### æ­¥éª¤3ï¼šå®¢æˆ·ç«¯å®‰è£…ï¼ˆ3åˆ†é’Ÿï¼‰

**ä¸‹è½½å¹¶å®‰è£… PhoneAgent Remote APK**ï¼š

å‰å¾€ [Releases é¡µé¢](https://github.com/tmwgsicp/PhoneAgent/releases/latest) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ï¼š

- ðŸ“¦ **æ–‡ä»¶å**ï¼š`PhoneAgent-Remote-v1.0.0.apk`
- ðŸ“ **å¤§å°**ï¼šçº¦ 70 MB
- ðŸ—ï¸ **æž¶æž„**ï¼šARM64 + ARMv7ï¼ˆé€šç”¨ç‰ˆï¼‰
- ðŸ“± **ç³»ç»Ÿè¦æ±‚**ï¼šAndroid 5.0+

**å®‰è£…æ–¹å¼**ï¼š

```bash
# æ–¹å¼ä¸€ï¼šé€šè¿‡ ADB å®‰è£…
adb install PhoneAgent-Remote-v1.0.0.apk

# æ–¹å¼äºŒï¼šç›´æŽ¥åœ¨æ‰‹æœºä¸Šæ‰“å¼€ APK æ–‡ä»¶å®‰è£…
```

**é…ç½®åº”ç”¨**ï¼ˆåœ¨ Android è®¾å¤‡ä¸Šï¼‰ï¼š

æ‰“å¼€ PhoneAgent Remote åº”ç”¨ï¼Œå¡«å†™ä»¥ä¸‹é…ç½®ä¿¡æ¯ï¼š

| é…ç½®é¡¹ | è¯´æ˜Ž | å¡«å†™ç¤ºä¾‹ |
|--------|------|----------|
| **åŽç«¯æœåŠ¡å™¨ IP** | PhoneAgent æœåŠ¡å™¨çš„ IP åœ°å€ | `1.2.3.4` |
| **FRP Token** | âš ï¸ å¿…é¡»ä¸ŽæœåŠ¡ç«¯è¾“å…¥çš„ Token å®Œå…¨ä¸€è‡´ | `my_secure_token_123` |
| **FRP è¿œç¨‹ç«¯å£** | FRP åˆ†é…çš„å”¯ä¸€ç«¯å£ | `6100`ã€`6101` ç­‰ |
| **WebSocket è¿žæŽ¥æ–¹å¼** | é€‰æ‹©è¿žæŽ¥æ¨¡å¼ | æŽ¨èé€‰æ‹©"ç›´è¿ž IP æ¨¡å¼" |
| **åŸŸååœ°å€**ï¼ˆå¯é€‰ï¼‰ | ä»…åŸŸåä»£ç†æ¨¡å¼éœ€è¦ | `phoneagent.example.com` |
| **è®¾å¤‡åç§°**ï¼ˆå¯é€‰ï¼‰ | ç»™è®¾å¤‡èµ·ä¸ªåå­— | ç•™ç©ºè‡ªåŠ¨ç”Ÿæˆ |

**WebSocket è¿žæŽ¥æ–¹å¼è¯´æ˜Ž**ï¼š
- **ç›´è¿ž IP æ¨¡å¼**ï¼ˆæŽ¨èï¼‰ï¼šç›´æŽ¥è¿žæŽ¥æœåŠ¡å™¨ 9999 ç«¯å£ï¼Œé€‚åˆå†…ç½‘çŽ¯å¢ƒã€å¼€å‘æµ‹è¯•
- **åŸŸåä»£ç†æ¨¡å¼**ï¼šé€šè¿‡åŸŸå + Nginx åå‘ä»£ç†è¿žæŽ¥ï¼Œé€‚åˆç”Ÿäº§çŽ¯å¢ƒã€éœ€è¦ SSL åŠ å¯†

**âš ï¸ FRP Token è®¤è¯è¯´æ˜Ž**ï¼š
- æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä½¿ç”¨ FRP Token è¿›è¡ŒåŒå‘è®¤è¯
- Token ä¸åŒ¹é…ä¼šå¯¼è‡´å®¢æˆ·ç«¯è¿žæŽ¥å¤±è´¥

ç‚¹å‡»"ä¿å­˜å¹¶å¯åŠ¨"ã€‚

**éªŒè¯è¿žæŽ¥**ï¼š

1. åœ¨åº”ç”¨å†…æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼š
   - FRP è¿žæŽ¥çŠ¶æ€åº”æ˜¾ç¤º"å·²è¿žæŽ¥"
   - WebSocket çŠ¶æ€åº”æ˜¾ç¤º"å·²è¿žæŽ¥"
   - ADB çŠ¶æ€åº”æ˜¾ç¤º"å·²è¿žæŽ¥"

2. åœ¨ PhoneAgent æœåŠ¡ç«¯æŸ¥çœ‹è®¾å¤‡æ˜¯å¦åœ¨çº¿ï¼š
   - æ‰“å¼€ Web ç®¡ç†ç•Œé¢
   - è¿›å…¥"è®¾å¤‡ç®¡ç†"é¡µé¢
   - è®¾å¤‡çŠ¶æ€åº”æ˜¾ç¤ºä¸º"åœ¨çº¿"

**å¦‚æžœæ˜¾ç¤º `offline`**ï¼š
- è¯´æ˜Žæ­¥éª¤2çš„ ADB TCP/IP é…ç½®æœªå®Œæˆæˆ–å¤±æ•ˆ
- è¯·é‡æ–°æ‰§è¡Œæ­¥éª¤2çš„é…ç½®

---

### æ­¥éª¤4ï¼šå‰ç«¯ï¼ˆ2åˆ†é’Ÿï¼‰

åœ¨æœåŠ¡å™¨ä¸Šï¼š

```bash
cd ~/PhoneAgent/web
npm install
npm run dev -- --host 0.0.0.0
```

**è®¿é—®**ï¼š`http://YOUR_SERVER_IP:5173`

**å®Œæˆï¼** âœ…

---

## ðŸŒ å®Œæ•´æ¨¡å¼ï¼ˆ30åˆ†é’Ÿï¼‰

> å®Œæ•´æ¨¡å¼é€šè¿‡åŸŸå + SSL + Nginx åå‘ä»£ç†ï¼Œæ”¯æŒè¯­éŸ³è¾“å…¥å’Œå®Œæ•´åŠŸèƒ½

### æž¶æž„è¯´æ˜Ž

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ç”¨æˆ·æµè§ˆå™¨ï¼ˆå‰ç«¯ï¼‰                             â”‚
â”‚             https://your-domain.com                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Nginx åå‘ä»£ç†ï¼ˆå‰ç«¯æœåŠ¡å™¨ï¼‰                      â”‚
â”‚                                                              â”‚
â”‚  /               â†’ å‰ç«¯é™æ€æ–‡ä»¶ (Vue SPA)                    â”‚
â”‚  /api/           â†’ http://127.0.0.1:8000/api/               â”‚
â”‚  /api/v1/ws      â†’ http://127.0.0.1:8000/api/v1/ws    â† å‰ç«¯WS â”‚
â”‚  /device-ws/     â†’ http://127.0.0.1:9999/ws/          â† è®¾å¤‡WS â”‚
â”‚  /api/v1/scrcpy/stream/* â†’ http://127.0.0.1:8000/... â† Scrcpy WS â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â†“                  â†“                  â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  APIæœåŠ¡å™¨      â”‚  â”‚ WebSocketæœåŠ¡å™¨ â”‚  â”‚  FRPæœåŠ¡å™¨       â”‚
    â”‚  (8000ç«¯å£)     â”‚  â”‚  (9999ç«¯å£)     â”‚  â”‚  (7000ç«¯å£)      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å‰ç½®å‡†å¤‡

#### 1. åŸŸåå‡†å¤‡ï¼ˆ5åˆ†é’Ÿï¼‰

**å…è´¹åŸŸå**ï¼š
- [Freenom](https://www.freenom.com) - .tk, .ml, .ga, .cf, .gq
- [Duck DNS](https://www.duckdns.org) - å…è´¹å­åŸŸå

**DNS é…ç½®**ï¼ˆä»¥ Cloudflare ä¸ºä¾‹ï¼‰ï¼š
1. æ³¨å†Œ Cloudflareï¼Œæ·»åŠ åŸŸå
2. æ·»åŠ  A è®°å½•ï¼š`@ â†’ YOUR_SERVER_IP`
3. ç­‰å¾… DNS ç”Ÿæ•ˆï¼ˆ5-30åˆ†é’Ÿï¼‰

#### 2. å®‰è£… 1Panelï¼ˆ5åˆ†é’Ÿï¼‰

```bash
# ä¸€é”®å®‰è£…
curl -sSL https://resource.fit2cloud.com/1panel/package/quick_start.sh -o quick_start.sh && bash quick_start.sh

# è®¿é—®é¢æ¿
https://YOUR_SERVER_IP:ç«¯å£  # å®‰è£…å®ŒæˆåŽä¼šæ˜¾ç¤º
```

### æ­¥éª¤1ï¼šæœåŠ¡ç«¯éƒ¨ç½²

```bash
git clone https://github.com/tmwgsicp/PhoneAgent.git
cd PhoneAgent
cp env.example .env
nano .env  # å¡«å†™ ZHIPU_API_KEY
sudo bash scripts/install/install_server.sh
```

**å®‰è£…æ—¶éœ€è¦æ‰‹åŠ¨è®¾ç½® FRP Token**ï¼Œè¯·è®°ä½æ‚¨è¾“å…¥çš„ Tokenï¼Œå®¢æˆ·ç«¯éƒ¨ç½²æ—¶éœ€è¦ä½¿ç”¨ç›¸åŒçš„ Tokenã€‚

### æ­¥éª¤2ï¼šå‰ç½®é…ç½® ADB TCP/IPï¼ˆå¿…é¡»ï¼‰âš ï¸

**åœ¨å®‰è£…å®¢æˆ·ç«¯ä¹‹å‰ï¼Œå¿…é¡»å…ˆå®Œæˆæ­¤æ­¥éª¤ï¼**

```bash
# 1. æ‰‹æœºé€šè¿‡ USB æ•°æ®çº¿è¿žæŽ¥åˆ°ç”µè„‘
# 2. åœ¨ç”µè„‘ä¸Šæ‰§è¡Œ
adb tcpip 5555

# 3. æ‹”æŽ‰ USB çº¿
```

**è¯´æ˜Ž**ï¼š
- è¿™ä¸ªé…ç½®ä¼šåœ¨**æ‰‹æœºé‡å¯åŽå¤±æ•ˆ**ï¼Œéœ€è¦é‡æ–°æ‰§è¡Œ
- Android 11+ å¯ä»¥åœ¨"å¼€å‘è€…é€‰é¡¹ > æ— çº¿è°ƒè¯•"ä¸­ç›´æŽ¥å¯ç”¨ï¼Œæ— éœ€ USB

### æ­¥éª¤3ï¼šå®¢æˆ·ç«¯éƒ¨ç½²

**ä¸‹è½½å¹¶å®‰è£… PhoneAgent Remote APK**ï¼š

å‰å¾€ [Releases é¡µé¢](https://github.com/tmwgsicp/PhoneAgent/releases/latest) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ï¼š

- ðŸ“¦ **æ–‡ä»¶å**ï¼š`PhoneAgent-Remote-v1.0.0.apk`
- ðŸ“ **å¤§å°**ï¼šçº¦ 70 MB
- ðŸ—ï¸ **æž¶æž„**ï¼šARM64 + ARMv7ï¼ˆé€šç”¨ç‰ˆï¼‰
- ðŸ“± **ç³»ç»Ÿè¦æ±‚**ï¼šAndroid 5.0+

**å®‰è£…åº”ç”¨**ï¼š

```bash
# é€šè¿‡ ADB å®‰è£…
adb install PhoneAgent-Remote-v1.0.0.apk

# æˆ–ç›´æŽ¥åœ¨æ‰‹æœºä¸Šæ‰“å¼€ APK æ–‡ä»¶å®‰è£…
```

**é…ç½®åº”ç”¨**ï¼š

æ‰“å¼€åº”ç”¨ï¼Œå¡«å†™é…ç½®ä¿¡æ¯ï¼š

| é…ç½®é¡¹ | è¯´æ˜Ž | å¡«å†™ç¤ºä¾‹ |
|--------|------|----------|
| **åŽç«¯æœåŠ¡å™¨ IP** | PhoneAgent æœåŠ¡å™¨çš„ IP åœ°å€ | å¡«å†™ä½ çš„æœåŠ¡å™¨ IP |
| **FRP Token** | ä¸ŽæœåŠ¡ç«¯è¾“å…¥çš„ä¸€è‡´ | å¡«å†™ä½ çš„ token |
| **FRP è¿œç¨‹ç«¯å£** | æ¯å°è®¾å¤‡ä½¿ç”¨å”¯ä¸€ç«¯å£ | `6100`ã€`6101` ç­‰ |
| **WebSocket è¿žæŽ¥æ–¹å¼** | å»ºè®®é€‰æ‹©"åŸŸåä»£ç†æ¨¡å¼" | åŸŸåä»£ç†æ¨¡å¼ |
| **åŸŸååœ°å€** | å¡«å†™ä½ çš„åŸŸå | `your-domain.com` |

ç‚¹å‡»"ä¿å­˜å¹¶å¯åŠ¨"ã€‚

**âš ï¸ å®¢æˆ·ç«¯éƒ¨ç½²å®ŒæˆåŽï¼ŒåŠ¡å¿…æ‰§è¡Œ ADB TCP è¿žæŽ¥é…ç½®**ï¼ˆå‚è§ç®€å•æ¨¡å¼æ­¥éª¤2ï¼‰

### æ­¥éª¤3ï¼šå‰ç«¯éƒ¨ç½²ï¼ˆ15åˆ†é’Ÿï¼‰

#### 3.1 æž„å»ºå‰ç«¯

```bash
cd ~/PhoneAgent/web

# åˆ›å»ºç”Ÿäº§çŽ¯å¢ƒé…ç½®ï¼ˆç•™ç©ºï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼‰
cat > .env.production << EOF
VITE_API_BASE_URL=
VITE_WS_URL=
EOF

npm install
npm run build
```

**é‡è¦**ï¼šçŽ¯å¢ƒå˜é‡ç•™ç©ºçš„åŽŸå› æ˜¯ Nginx ä¼šåå‘ä»£ç†ï¼Œå‰ç«¯ä½¿ç”¨ç›¸å¯¹è·¯å¾„è®¿é—®ã€‚

#### 3.2 åœ¨ 1Panel ä¸­é…ç½®

**åˆ›å»ºç½‘ç«™**ï¼š
- åŸŸåï¼š`your-domain.com`
- ç½‘ç«™ç›®å½•ï¼š`/root/PhoneAgent/web/dist`
- è¿è¡Œæ—¶ï¼šé™æ€ç½‘ç«™

**é…ç½®åå‘ä»£ç†**ï¼ˆç½‘ç«™é…ç½® â†’ åå‘ä»£ç†ï¼‰ï¼š

```nginx
# ============================================
# å‰ç«¯ WebSocketï¼ˆ8000ç«¯å£ï¼‰
# âš ï¸ é‡è¦ï¼šå¿…é¡»åœ¨ /api/ ä¹‹å‰ï¼
# ============================================
location = /api/v1/ws {
    proxy_pass http://127.0.0.1:8000/api/v1/ws;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_read_timeout 86400s;  # 24å°æ—¶
    proxy_send_timeout 86400s;
    proxy_buffering off;
}

# ============================================
# Scrcpy è§†é¢‘æµ WebSocketï¼ˆ8000ç«¯å£ï¼‰
# âš ï¸ é‡è¦ï¼šå¿…é¡»åœ¨ /api/ ä¹‹å‰ï¼
# ============================================
location ~ ^/api/v1/scrcpy/stream/(.+)$ {
    proxy_pass http://127.0.0.1:8000/api/v1/scrcpy/stream/$1;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_read_timeout 3600s;   # 1å°æ—¶
    proxy_send_timeout 3600s;
    proxy_buffering off;
}

# ============================================
# API ä»£ç†ï¼ˆ8000ç«¯å£ï¼‰
# ============================================
location /api/ {
    proxy_pass http://127.0.0.1:8000/api/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
    proxy_connect_timeout 60s;
    proxy_send_timeout 300s;
    proxy_read_timeout 300s;
}

# ============================================
# è®¾å¤‡ WebSocketï¼ˆ9999ç«¯å£ï¼‰
# ============================================
location /device-ws/ {
    proxy_pass http://127.0.0.1:9999/ws/;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_read_timeout 86400s;  # 24å°æ—¶
    proxy_send_timeout 86400s;
    proxy_buffering off;
}
```

**é…ç½®é¡ºåºå¾ˆé‡è¦**ï¼WebSocket é…ç½®å¿…é¡»åœ¨ `/api/` ä¹‹å‰ï¼Œå¦åˆ™ä¼šè¢« `/api/` è§„åˆ™æ‹¦æˆªã€‚

**é…ç½® SSL**ï¼ˆç½‘ç«™é…ç½® â†’ SSLï¼‰ï¼š
- é€‰æ‹© "Let's Encrypt"
- ç‚¹å‡» "ç”³è¯·"ï¼ˆè‡ªåŠ¨å®Œæˆï¼‰

**é…ç½® SPA è·¯ç”±**ï¼ˆç½‘ç«™é…ç½® â†’ é…ç½®æ–‡ä»¶ï¼‰ï¼š

```nginx
location / {
    root /root/PhoneAgent/web/dist;
    try_files $uri $uri/ /index.html;
    index index.html;
}
```

#### 3.3 æ›´æ–°å®¢æˆ·ç«¯é…ç½®ï¼ˆå¯é€‰ï¼‰

**æ³¨æ„**ï¼šå®¢æˆ·ç«¯å®‰è£…æ—¶å·²ç»é…ç½®å¥½ WebSocket è¿žæŽ¥ï¼Œé€šå¸¸æ— éœ€ä¿®æ”¹ã€‚

å¦‚æžœéœ€è¦ä»Žç›´è¿žIPæ¨¡å¼åˆ‡æ¢åˆ°åŸŸåä»£ç†æ¨¡å¼ï¼š

1. æ‰“å¼€ PhoneAgent Remote åº”ç”¨
2. åœ¨é…ç½®ç•Œé¢ä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼š
   - **WebSocket è¿žæŽ¥æ–¹å¼**ï¼šåˆ‡æ¢åˆ°"åŸŸåä»£ç†æ¨¡å¼"
   - **åŸŸååœ°å€**ï¼šå¡«å†™ä½ çš„åŸŸåï¼ˆå¦‚ `your-domain.com`ï¼‰
3. ç‚¹å‡»"ä¿å­˜å¹¶å¯åŠ¨"

**é‡è¦æç¤º**ï¼š
- WebSocket URL æ ¼å¼ï¼š`wss://your-domain.com/device-ws/device/{FRPç«¯å£}`
- `/device/` åŽé¢çš„æ•°å­—æ˜¯ **FRP è¿œç¨‹ç«¯å£**ï¼ˆå¦‚ 6100, 6101 ç­‰ï¼‰ï¼Œä¸æ˜¯è®¾å¤‡åç§°
- æ¯å°è®¾å¤‡ä½¿ç”¨ä¸åŒçš„ç«¯å£ï¼šç¬¬ä¸€å°ç”¨ 6100ï¼Œç¬¬äºŒå°ç”¨ 6101ï¼Œä¾æ¬¡é€’å¢ž

**è®¿é—®**ï¼š`https://your-domain.com`

**å®Œæˆï¼** âœ…

---

## âœ… éªŒè¯æµ‹è¯•

### 1. æ£€æŸ¥æœåŠ¡

```bash
# æœåŠ¡ç«¯
bash scripts/server/status.sh

# å®¢æˆ·ç«¯ï¼ˆTermuxï¼‰
bash ~/check_status.sh
```

### 2. æµ‹è¯• API

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# æŸ¥çœ‹è®¾å¤‡åˆ—è¡¨
curl http://localhost:8000/api/v1/devices/scanned
```

### 3. æµ‹è¯• WebSocket

**ä½¿ç”¨ wscat**ï¼š
```bash
npm install -g wscat

# å‰ç«¯ WebSocket
wscat -c ws://localhost:8000/api/v1/ws

# è®¾å¤‡ WebSocket
wscat -c ws://localhost:9999/ws/device/6100

# Scrcpy WebSocket
wscat -c ws://localhost:8000/api/v1/scrcpy/stream/device_6100
```

### 4. æµ‹è¯•åŠŸèƒ½

1. æµè§ˆå™¨è®¿é—®å‰ç«¯
2. ç‚¹å‡»"è®¾å¤‡ç®¡ç†"ï¼ŒæŸ¥çœ‹åœ¨çº¿è®¾å¤‡
3. åˆ›å»ºä»»åŠ¡ï¼š"æ‰“å¼€è®¾ç½®"
4. è§‚å¯Ÿæ‰§è¡Œç»“æžœ
5. æµ‹è¯•å®žæ—¶é¢„è§ˆï¼ˆScrcpyï¼‰

### 5. æµ‹è¯•è¯­éŸ³ï¼ˆå®Œæ•´æ¨¡å¼ï¼‰

1. ç‚¹å‡»"è¯­éŸ³è¾“å…¥"
2. å…è®¸éº¦å…‹é£Žæƒé™
3. è¯´è¯æµ‹è¯•

---

## ðŸ”§ æ•…éšœæŽ’æŸ¥

### æœåŠ¡å¯åŠ¨å¤±è´¥

```bash
# æŸ¥çœ‹æ—¥å¿—
tail -50 logs/api.log
tail -50 logs/websocket.log

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tlnp | grep -E '7000|8000|9999|6100'

# æ£€æŸ¥è¿›ç¨‹
ps aux | grep -E 'uvicorn|frps'
```

### å®¢æˆ·ç«¯è¿žæŽ¥å¤±è´¥

**æ£€æŸ¥æ­¥éª¤**ï¼š

1. **æŸ¥çœ‹åº”ç”¨æ—¥å¿—**ï¼š
   - æ‰“å¼€ PhoneAgent Remote åº”ç”¨
   - ç‚¹å‡»"æŸ¥çœ‹æ—¥å¿—"æŒ‰é’®
   - æŸ¥çœ‹ FRP å’Œ WebSocket è¿žæŽ¥æ—¥å¿—

2. **é€šè¿‡ ADB æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—**ï¼š
   ```bash
   adb logcat | grep -E "PhoneAgent|FrpManager|WebSocketManager"
   ```

3. **æ£€æŸ¥ç½‘ç»œè¿žæŽ¥**ï¼š
   - ç¡®è®¤æ‰‹æœºèƒ½è®¿é—®æœåŠ¡å™¨ IP
   - æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦å¼€æ”¾äº†å¿…è¦çš„ç«¯å£
   - ç¡®è®¤ FRP Token é…ç½®æ­£ç¡®

4. **éªŒè¯ ADB TCP/IP**ï¼š
   ```bash
   # åœ¨ç”µè„‘ä¸Šæ‰§è¡Œ
   adb tcpip 5555
   ```

### å‰ç«¯æ— æ³•è®¿é—®

**ç®€å•æ¨¡å¼**ï¼š
- æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦å¼€æ”¾ 5173 ç«¯å£
- æ£€æŸ¥å‰ç«¯æœåŠ¡æ˜¯å¦è¿è¡Œï¼š`ps aux | grep vite`

**å®Œæ•´æ¨¡å¼**ï¼š
- æ£€æŸ¥åŸŸå DNS æ˜¯å¦ç”Ÿæ•ˆï¼š`ping your-domain.com`
- æ£€æŸ¥ SSL è¯ä¹¦æ˜¯å¦æ­£ç¡®ï¼š`curl -I https://your-domain.com`
- æ£€æŸ¥ Nginx é…ç½®ï¼š`sudo nginx -t`
- æŸ¥çœ‹ Nginx æ—¥å¿—ï¼š`sudo tail -f /var/log/nginx/error.log`

### WebSocket è¿žæŽ¥å¤±è´¥

**ç—‡çŠ¶**ï¼šæµè§ˆå™¨æŽ§åˆ¶å°æ˜¾ç¤º `WebSocket connection failed`

**æŽ’æŸ¥æ­¥éª¤**ï¼š
1. æ‰“å¼€æµè§ˆå™¨ F12 â†’ Network â†’ WSï¼ŒæŸ¥çœ‹å®žé™…è¿žæŽ¥çš„ URL
2. ç¡®è®¤ WebSocket URL æ˜¯å¦æ­£ç¡®ï¼š
   - å‰ç«¯ WS åº”è¯¥æ˜¯ `wss://your-domain.com/api/v1/ws`
   - è®¾å¤‡ WS åº”è¯¥æ˜¯ `wss://your-domain.com/device-ws/device/xxx`
3. æ£€æŸ¥ Nginx é…ç½®ä¸­çš„ WebSocket ä»£ç†æ˜¯å¦æ­£ç¡®
4. æ£€æŸ¥åŽç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
5. æŸ¥çœ‹åŽç«¯æ—¥å¿—ï¼š`tail -f logs/websocket.log`

### Scrcpy è§†é¢‘æµæ— æ³•æ˜¾ç¤º

**ç—‡çŠ¶**ï¼šç‚¹å‡»"å®žæ—¶é¢„è§ˆ"åŽé»‘å±æˆ–è¿žæŽ¥å¤±è´¥

**æŽ’æŸ¥æ­¥éª¤**ï¼š
1. æ£€æŸ¥æ˜¯å¦é…ç½®äº† Scrcpy WebSocket åå‘ä»£ç†
2. ç¡®è®¤æµè§ˆå™¨ F12 â†’ Network â†’ WS ä¸­çœ‹åˆ° `/api/v1/scrcpy/stream/{device_id}` è¿žæŽ¥
3. æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦å¼€æ”¾äº† 6100-6199 ç«¯å£
4. åœ¨ Termux ä¸­æµ‹è¯• Scrcpyï¼š`scrcpy -s 127.0.0.1:6100`
5. æŸ¥çœ‹ API æ—¥å¿—ï¼š`tail -f logs/api.log | grep scrcpy`

### è¯­éŸ³è¾“å…¥ä¸å·¥ä½œ

**ç—‡çŠ¶**ï¼šç‚¹å‡»éº¦å…‹é£Žå›¾æ ‡æ— ååº”æˆ–æŠ¥é”™

**åŽŸå› **ï¼š
- âš ï¸ æµè§ˆå™¨ `getUserMedia` API è¦æ±‚ HTTPS æˆ– localhost
- âš ï¸ ç®€å•æ¨¡å¼ï¼ˆHTTP + IPï¼‰ä¸æ”¯æŒè¯­éŸ³è¾“å…¥

**è§£å†³**ï¼š
- ä½¿ç”¨å®Œæ•´æ¨¡å¼ï¼ˆHTTPS + åŸŸåï¼‰
- æˆ–åœ¨æœ¬åœ°æµè§ˆå™¨è®¿é—® `http://localhost:5173`

---

## ðŸ“š å¸¸ç”¨å‘½ä»¤

### æœåŠ¡ç«¯

```bash
bash scripts/server/start.sh    # å¯åŠ¨
bash scripts/server/stop.sh     # åœæ­¢
bash scripts/server/status.sh   # çŠ¶æ€
tail -f logs/api.log            # API æ—¥å¿—
tail -f logs/websocket.log      # WebSocket æ—¥å¿—
tail -f logs/frps.log           # FRP æ—¥å¿—
```

### å®¢æˆ·ç«¯

**é€šè¿‡åº”ç”¨ç•Œé¢**ï¼š
- æ‰“å¼€ PhoneAgent Remote åº”ç”¨
- ç‚¹å‡»"å¯åŠ¨æœåŠ¡"/"åœæ­¢æœåŠ¡"æŒ‰é’®
- ç‚¹å‡»"æŸ¥çœ‹æ—¥å¿—"æŸ¥çœ‹è¿è¡Œæ—¥å¿—
- æŸ¥çœ‹çŠ¶æ€æŒ‡ç¤ºå™¨ï¼ˆFRPã€WebSocketã€ADBï¼‰

**é€šè¿‡ ADB å‘½ä»¤**ï¼š
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
adb logcat | grep -E "PhoneAgent|FrpManager|WebSocketManager"

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
adb shell ps | grep phoneagent
```

### Nginx

```bash
sudo nginx -t                   # æµ‹è¯•é…ç½®
sudo nginx -s reload            # é‡è½½é…ç½®
sudo tail -f /var/log/nginx/error.log   # é”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/access.log  # è®¿é—®æ—¥å¿—
```

---

## ðŸ’¡ æœ€ä½³å®žè·µ

### æŽ¨èé…ç½®

- **æ–°æ‰‹/æµ‹è¯•**ï¼šç®€å•æ¨¡å¼
- **ä¸ªäººä½¿ç”¨**ï¼šå®Œæ•´æ¨¡å¼ + Cloudflare + 1Panel
- **ä¼ä¸šä½¿ç”¨**ï¼šå®Œæ•´æ¨¡å¼ + ä»˜è´¹åŸŸå + CDN

### å®‰å…¨å»ºè®®

- ä½¿ç”¨å¼º FRP Tokenï¼ˆ16ä½ä»¥ä¸Šéšæœºå­—ç¬¦ï¼‰
- å®šæœŸå¤‡ä»½ `data/` ç›®å½•
- ç›‘æŽ§æ—¥å¿—å’Œé”™è¯¯
- é™åˆ¶ FRP ç«¯å£èŒƒå›´ï¼Œæ ¹æ®è®¾å¤‡æ•°é‡è°ƒæ•´

### æ€§èƒ½ä¼˜åŒ–

- å¤šè®¾å¤‡æ—¶åˆç†åˆ†é… FRP ç«¯å£ï¼ˆ6100-6199ï¼‰
- ä½¿ç”¨ CDN åŠ é€Ÿå‰ç«¯è®¿é—®
- å®šæœŸæ¸…ç†æ—¥å¿—æ–‡ä»¶
- Scrcpy è§†é¢‘æµæ ¹æ®ç½‘ç»œè°ƒæ•´ç çŽ‡

### æž¶æž„ç†è§£

PhoneAgent ä½¿ç”¨**åŒ WebSocket æœåŠ¡**æž¶æž„ï¼Œç†è§£è¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼š

1. **API æœåŠ¡å™¨ï¼ˆ8000 ç«¯å£ï¼‰**ï¼š
   - æä¾› REST API
   - æä¾›å‰ç«¯ WebSocketï¼ˆ`/api/v1/ws`ï¼‰ç”¨äºŽå®žæ—¶çŠ¶æ€æŽ¨é€
   - æä¾› Scrcpy WebSocketï¼ˆ`/api/v1/scrcpy/stream/{device_id}`ï¼‰ç”¨äºŽè§†é¢‘æµä¼ è¾“

2. **è®¾å¤‡ WebSocket æœåŠ¡å™¨ï¼ˆ9999 ç«¯å£ï¼‰**ï¼š
   - æä¾›è®¾å¤‡ WebSocketï¼ˆ`/ws/device/{frp_port}`ï¼‰ç”¨äºŽè®¾å¤‡è¿žæŽ¥å’Œä»»åŠ¡ä¸‹å‘

3. **Nginx åå‘ä»£ç†**ï¼š
   - å°† `/api/` ä»£ç†åˆ° 8000 ç«¯å£
   - å°† `/api/v1/ws` ä»£ç†åˆ° 8000 ç«¯å£ï¼ˆå‰ç«¯ WSï¼‰
   - å°† `/api/v1/scrcpy/stream/*` ä»£ç†åˆ° 8000 ç«¯å£ï¼ˆScrcpy WSï¼‰
   - å°† `/device-ws/` ä»£ç†åˆ° 9999 ç«¯å£ï¼ˆè®¾å¤‡ WSï¼‰

---

## âš™ï¸ é«˜çº§é…ç½®

### å¤šæ¨¡åž‹å¹³å°é…ç½®

é»˜è®¤ä½¿ç”¨æ™ºè°±AIï¼Œä¹Ÿæ”¯æŒ OpenAIã€Google Geminiã€é€šä¹‰åƒé—®ç­‰å¹³å°ã€‚

#### åˆ‡æ¢åˆ° OpenAI

```bash
# ç¼–è¾‘ .env
nano .env

# æ·»åŠ é…ç½®
MODEL_PROVIDER=openai
CUSTOM_API_KEY=sk-proj-xxxxx
CUSTOM_MODEL_NAME=gpt-4o

# é‡å¯æœåŠ¡
bash scripts/server/restart.sh
```

#### åˆ‡æ¢åˆ° Google Gemini

```bash
# ç¼–è¾‘ .env
nano .env

# æ·»åŠ é…ç½®
MODEL_PROVIDER=gemini
CUSTOM_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXX
CUSTOM_MODEL_NAME=gemini-2.0-flash

# é‡å¯æœåŠ¡
bash scripts/server/restart.sh
```

#### åˆ‡æ¢åˆ°é€šä¹‰åƒé—®ï¼ˆå›½å†…æŽ¨èï¼‰

```bash
# ç¼–è¾‘ .env
nano .env

# æ·»åŠ é…ç½®
MODEL_PROVIDER=qwen
CUSTOM_API_KEY=sk-xxxxx
CUSTOM_MODEL_NAME=qwen-vl-plus

# é‡å¯æœåŠ¡
bash scripts/server/restart.sh
```

#### æ”¯æŒçš„çŽ¯å¢ƒå˜é‡

```bash
# æ¨¡åž‹æä¾›å•†ï¼ˆzhipu, openai, gemini, qwenï¼‰
MODEL_PROVIDER=zhipu

# è‡ªå®šä¹‰ API Key
CUSTOM_API_KEY=your_api_key

# è‡ªå®šä¹‰æ¨¡åž‹åç§°
CUSTOM_MODEL_NAME=gpt-4o

# è‡ªå®šä¹‰ base_urlï¼ˆé«˜çº§ï¼Œä¸€èˆ¬ä¸éœ€è¦ä¿®æ”¹ï¼‰
CUSTOM_BASE_URL=https://api.openai.com/v1

# åˆ†åˆ«é…ç½®ä¸åŒå†…æ ¸ï¼ˆé«˜çº§ï¼‰
XML_KERNEL_MODEL=gpt-4-turbo       # XMLå†…æ ¸ä¸“ç”¨
VISION_KERNEL_MODEL=gpt-4o         # Visionå†…æ ¸ä¸“ç”¨
PLANNING_KERNEL_MODEL=gpt-4o       # è§„åˆ’æ¨¡å¼ä¸“ç”¨

# ä»»åŠ¡æ‰§è¡Œé…ç½®
MAX_TASK_STEPS=100                 # æœ€å¤§æ‰§è¡Œæ­¥æ•°ï¼ˆ1-200ï¼‰
MAX_TOKENS=3000                    # æ¨¡åž‹è¾“å‡ºTokené™åˆ¶
TEMPERATURE=0.7                    # æ¨¡åž‹æ¸©åº¦ï¼ˆ0-1ï¼Œè¶Šé«˜è¶Šéšæœºï¼‰
```

### é…ç½®è¯´æ˜Ž

**MODEL_PROVIDER** - æ¨¡åž‹æä¾›å•†ï¼Œæ”¯æŒä»¥ä¸‹é€‰é¡¹ï¼š
- `zhipu`ï¼ˆé»˜è®¤ï¼‰- æ™ºè°±AIï¼Œå›½å†…è®¿é—®å¿«ï¼Œå…è´¹é¢åº¦
- `openai` - OpenAI GPTç³»åˆ—
- `gemini` - Google Geminiç³»åˆ—
- `qwen` - é˜¿é‡Œé€šä¹‰åƒé—®ç³»åˆ—

**é…ç½®ä¼˜å…ˆçº§**:
1. `CUSTOM_MODEL_NAME` - æ‰€æœ‰å†…æ ¸ä½¿ç”¨åŒä¸€æ¨¡åž‹ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
2. `XML_KERNEL_MODEL` ç­‰ - åˆ†åˆ«ä¸ºä¸åŒå†…æ ¸æŒ‡å®šæ¨¡åž‹
3. `MODEL_PROVIDER` - æ ¹æ®æä¾›å•†è‡ªåŠ¨é€‰æ‹©é»˜è®¤æ¨¡åž‹
4. æ™ºè°±AIé»˜è®¤ç­–ç•¥ï¼ˆfallbackï¼‰

---

**éœ€è¦å¸®åŠ©ï¼Ÿ** æäº¤ [Issue](https://github.com/tmwgsicp/PhoneAgent/issues)
